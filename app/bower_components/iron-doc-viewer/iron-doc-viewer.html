<html><head><link rel="import" href="../iron-location/iron-location.html"><link rel="import" href="../marked-element/marked-element.html"><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../prism-element/prism-highlighter.html"><link rel="import" href="../prism-element/prism-theme-default.html"><link rel="import" href="iron-doc-behavior.html"><link rel="import" href="iron-doc-class.html"><link rel="import" href="iron-doc-demo.html"><link rel="import" href="iron-doc-element.html"><link rel="import" href="iron-doc-mixin.html"><link rel="import" href="iron-doc-namespace.html"></head><body><dom-module id="iron-doc-viewer"><template><style include="iron-doc-viewer-styles prism-theme-default">iron-doc-demo{height:100%;}</style><iron-location path="{{_urlPath}}" hash="{{_urlHash}}"></iron-location><template is="dom-if" if="[[_equal(_descriptorType,'demos')]]" restamp=""><iron-doc-demo class="active" demo="[[_demo]]" src-prefix="[[demoSrcPrefix]]" title="{{title}}"></iron-doc-demo></template><template is="dom-if" if="[[_equal(_descriptorType,'namespaces')]]" restamp=""><iron-doc-namespace class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-namespace></template><template is="dom-if" if="[[_equal(_descriptorType,'elements')]]" restamp=""><iron-doc-element class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-element></template><template is="dom-if" if="[[_equal(_descriptorType,'mixins')]]" restamp=""><iron-doc-mixin class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-mixin></template><template is="dom-if" if="[[_equal(_descriptorType,'behaviors')]]" restamp=""><iron-doc-behavior class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-behavior></template><template is="dom-if" if="[[_equal(_descriptorType,'classes')]]" restamp=""><iron-doc-class class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-class></template></template><script>(function(){function c(d,g){var h=g.split('.');if(!(2>h.length)){h=h.slice(0,h.length-1);for(var j=d,k=0;k<h.length;k++){if(!j.namespaces)return;var l=j.namespaces.filter(function(o){return o.name===h[k]});if(0===l.length)return;j=l[0]}return j}}Polymer({is:'iron-doc-viewer',properties:{descriptor:{type:Object},baseHref:{type:String,value:'#'},demoSrcPrefix:String,path:{type:String,notify:!0,value:null},rootNamespace:{type:String},title:{type:String,notify:!0},demo:{type:Boolean,computed:'_computeDemo(_demo)',reflectToAttribute:!0,notify:!0},_descriptorType:String,_urlPath:String,_urlHash:String,_currentDescriptor:Object,_fragmentPrefix:String,_scrollTo:String,_demo:Object},observers:['_routingChanged(baseHref, _urlPath, _urlHash)','_dataChanged(descriptor, path, _scrollTo)'],_equal:function(g,h){return g==h},_computeDemo:function(g){return!!g},_routingChanged:function(g,h,j){if(0===g.indexOf('#')){var k=(j||'').split('#');this.path=k[0],this._scrollTo=k[1]||null,this._fragmentPrefix=k[0]+'#'}else this.path=g&&h&&0===h.indexOf(g)?h.substring(g.length):h,this._scrollTo=j},_dataChanged:function(g,h,j){if(!this.descriptor)return void(this._descriptorType=null);if(!h||'/'===h)return void(this.rootNamespace?this.path='/namespaces/'+this.rootNamespace:(this._descriptorType='namespaces',this._currentDescriptor=g));var k,l,o;this.baseHref&&0<=h.indexOf(this.baseHref)&&(h=h.substring(this.baseHref.length));var p=h.split('/');1<p.length&&(k=p[1],l=p[2]),3<p.length&&'demos'===p[3]&&(o=p.slice(4).join('/'));var q=c(this.descriptor,l)||this.descriptor;if(null!=q){if(this._descriptorType=k,'namespaces'===k)this._currentDescriptor=q.namespaces&&q.namespaces.filter(function(w){return w.name===l})[0];else if('elements'===k)this._currentDescriptor=q.elements&&q.elements.filter(function(w){return w.name===l||w.tagname===l})[0];else if('classes'===k)this._currentDescriptor=q.classes&&q.classes.filter(function(w){return(w.name||w.tagname)===l})[0];else if('mixins'===k)this._currentDescriptor=q.mixins&&q.mixins.filter(function(w){return w.name===l})[0];else if('behaviors'===k){var r=((q.metadata||{}).polymer||{}).behaviors;this._currentDescriptor=r&&r.filter(function(w){return w.name===l})[0]}else'functions'===k&&(this._currentDescriptor=q.functions&&q.functions.filter(function(w){return w.name===l})[0]);if(this._demo=null,o&&this._currentDescriptor&&this._currentDescriptor.demos)for(var s=0;s<this._currentDescriptor.demos.length;s++){var t=this._currentDescriptor.demos[s],u=t.description&&t.description.toLowerCase().replace(/\s+/g,'-');if(t.url===o||u&&u===o){this._demo=t,this._descriptorType='demos';break}}if(this.fire('view-changed'),j){Polymer.dom.flush();var v=this.$$('.active');v&&v.scrollToAnchor&&v.scrollToAnchor(j)}}}})})();</script></dom-module></body></html>