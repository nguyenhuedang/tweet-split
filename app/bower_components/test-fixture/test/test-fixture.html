<!DOCTYPE html><html><head><title>test-fixture</title>
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><link rel="import" id="test-fixture-import" href="../test-fixture.html"><script src="../test-fixture-mocha.js"></script><script>(function(){function a(){return window.Reflect?Reflect.construct(HTMLElement,[],a):HTMLElement.call(this)||this}if(a.prototype=Object.create(HTMLElement.prototype),Object.defineProperty(a.prototype,'constructor',{configurable:!0,enumerable:!0,writable:!0,value:a}),a.prototype.onDetached=function(){},a.prototype.disconnectedCallback=a.prototype.detachedCallback=function(){this.onDetached()},window.customElements)customElements.define('x-custom',a);else if(document.registerElement)document.registerElement('x-custom',{prototype:a.prototype});else throw new Error('No custom elements API was found.')})();</script></head><body><test-fixture id="TrivialFixture"><template><div id="Foo"></div></template></test-fixture><test-fixture id="ComplexDomFixture"><template><div id="Bar"><div id="BarChild"></div></div><div id="BarSibling"></div></template></test-fixture><test-fixture id="MultiTemplateFixture"><template><div id="Baz"></div></template><template><div id="Qux"></div><div id="QuxSibling"></div></template></test-fixture><test-fixture id="CommentedSingleChildFixture"><template><div id="Foo"></div></template></test-fixture><test-fixture id="CommentedMultiChildFixture"><template><div id="Bar"><div id="BarChild"></div></div><div id="BarSibling"></div><div id="Baz"></div></template></test-fixture><test-fixture id="AttachedFixture"><template><x-custom></x-custom></template></test-fixture><script>describe('test-fixture import',function(){it('loads from test-fixture import',function(){var a=document.getElementById('test-fixture-import');expect(a.import).to.not.be.null})}),describe('<test-fixture>',function(){var a,b,c,d,e;beforeEach(function(){a=document.getElementById('TrivialFixture'),b=document.getElementById('ComplexDomFixture'),c=document.getElementById('MultiTemplateFixture'),d=document.getElementById('CommentedSingleChildFixture'),e=document.getElementById('CommentedMultiChildFixture')}),afterEach(function(){a.restore(),b.restore(),c.restore(),d.restore(),e.restore()}),describe('an stamped-out fixture',function(){var f,g;beforeEach(function(){f=document.getElementById('AttachedFixture'),g=f.create()}),afterEach(function(){f.restore()}),it('detaches the fixtured DOM when it is restored',function(){var h=!1;g.onDetached=function(){h=!0},f.restore(),expect(h).to.be.eql(!0)})}),describe('when create is called',function(){var f;beforeEach(function(){f=a.create()}),it('clones all template fragments within itself',function(){expect(f).to.be.ok,expect(document.getElementById('Foo')).to.be.ok}),it('detaches all fixture templates from itself',function(){expect(a.querySelectorAll('template').length).to.be.equal(0)}),describe('and then restore is called',function(){beforeEach(function(){a.restore()}),it('re-attaches all fixture templates',function(){expect(a.querySelectorAll('template').length).to.be.equal(1)}),it('removes all cloned elements from itself',function(){expect(document.getElementById('Foo')).to.not.be.ok})}),describe('for a dom with a single root element',function(){it('returns a reference to the root element',function(){expect(f).to.be.instanceOf(HTMLElement)})}),describe('for a complex dom',function(){var g;beforeEach(function(){g=b.create()}),it('fixtures all the dom elements in the template',function(){expect(document.getElementById('Bar')).to.be.ok,expect(document.getElementById('BarSibling')).to.be.ok,expect(document.getElementById('BarChild')).to.be.ok}),it('returns an array of root elements',function(){expect(g).to.be.instanceOf(Array),expect(g[0]).to.be.instanceOf(HTMLElement),expect(g[1]).to.be.instanceOf(HTMLElement)})}),describe('when there are multiple templates',function(){var g;beforeEach(function(){g=c.create()}),it('fixtures elements from all of the templates',function(){expect(document.getElementById('Baz')).to.be.ok,expect(document.getElementById('Qux')).to.be.ok}),it('returns an array with elements grouped by template',function(){expect(g).to.be.instanceOf(Array),expect(g[0]).to.be.instanceOf(HTMLElement),expect(g[1]).to.be.instanceOf(Array),expect(g[1][0]).to.be.instanceOf(HTMLElement),expect(g[1][1]).to.be.instanceOf(HTMLElement)})}),describe('when there are comments in the template',function(){var g,h;beforeEach(function(){g=d.create(),h=e.create()}),it('returns a single element if the template has a single child',function(){expect(g).to.be.instanceOf(HTMLElement)}),it('returns multiple elements if the template has multiple children',function(){expect(h).to.be.instanceOf(Array),expect(h.length).to.equal(3)})})}),describe('when the fixture global is called',function(){var f;beforeEach(function(){f=fixture('TrivialFixture')}),it('generates a DOM fragment from the associated fixture',function(){expect(f).to.be.equal(document.getElementById('Foo'))})})});</script></body></html>