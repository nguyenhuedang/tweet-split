(function(a){'use strict';var c=a.parse||require('./parsing').parse,d=a.pretty||require('./formatting').pretty;a.normalize=function(e,f){if(e.parsedStack)return e;var g=e.message||e.description||e||'<unknown error>',h=[];try{h=c(e.stack||e.toString())}catch(n){}if(0===h.length&&e.fileName&&h.push({method:'',location:e.fileName,line:e.lineNumber,column:e.columnNumber}),!f||!f.showColumns)for(var k,j=0;k=h[j];j++)delete k.column;var l=g;0<h.length&&(l=l+'\n'+d(h,f));var m=Object.create(Error.prototype);return m.message=g,m.stack=l,m.parsedStack=h,m}})('undefined'===typeof module?this.Stacky=this.Stacky||{}:module.exports);