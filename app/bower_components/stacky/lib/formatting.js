(function(a){'use strict';function c(n,o){for(var r,p=[],q=0;r=n[q];q++)o.filter(r)||(r.location=h(r.location,o),r.important=j(r,o),p.push(r));return p}function d(n){return n}function e(n,o){var p=Object.create(o);return Object.keys(n).forEach(function(q){var r=n[q];'object'!==('undefined'===typeof r?'undefined':babelHelpers.typeof(r))||Array.isArray(r)||(r=e(r,o[q])),p[q]=r}),p}function f(n,o){for(var r,p=o.methodPlaceholder.length,q=0;r=n[q];q++)p=Math.min(o.maxMethodPadding,Math.max(p,r.method.length));return p}function g(n){for(var o='',p=0;p<n;p++)o+=' ';return o}function h(n,o){if(o.locationStrip)for(var q,p=0;q=o.locationStrip[p];p++)n=n.replace(q,'');return n}function j(n,o){if(o.unimportantLocation)for(var q,p=0;q=o.unimportantLocation[p];p++)if(n.location.match(q))return!1;return!0}var k=a.parse||require('./parsing').parse;a.defaults={maxMethodPadding:40,indent:'',methodPlaceholder:'<unknown>',locationStrip:[],unimportantLocation:[],filter:function(){return!1},styles:{method:d,location:d,line:d,column:d,unimportant:d}};var l=new Function('try {return this===global;}catch(e){return false;}');if(l()){var m=require('chalk');a.defaults.styles={method:m.magenta,location:m.blue,line:m.cyan,column:m.cyan,unimportant:m.dim}}a.clean=c,a.pretty=function(n,o){o=e(o||{},a.defaults);var p=Array.isArray(n)?n:k(n);p=c(p,o);var q=f(p,o),r=p.map(function(s){var t=s.method||o.methodPlaceholder,u=o.indent+g(q-t.length),v=[o.styles.location(s.location),o.styles.line(s.line)];'column'in s&&v.push(o.styles.column(s.column));var w=v.join(':'),x=u+o.styles.method(t)+' at '+w;return s.important||(x=o.styles.unimportant(x)),x});return r.join('\n')}})('undefined'===typeof module?this.Stacky=this.Stacky||{}:module.exports);