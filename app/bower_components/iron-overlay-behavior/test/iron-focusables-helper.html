<!DOCTYPE html><html><head><title>iron-focusables-helper tests</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes">
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><link rel="import" href="../../iron-test-helpers/iron-test-helpers.html"><link rel="import" href="../iron-focusables-helper.html"><link rel="import" href="test-buttons.html"><link rel="import" href="test-buttons-wrapper.html"><style is="custom-style">.hidden{visibility:hidden;}.no-display{display:none;}</style></head><body><test-fixture id="basic"><template><div><h2>Focusables (no tabindex)</h2><div><input class="focusable1" placeholder="1 (nested)"></div><a href="#" class="focusable2">2</a> <button disabled="">disabled button</button> <input disabled="" tabindex="0" value="disabled input with tabindex"><div tabindex="-1">not focusable</div><div contenteditable="" class="focusable3">3</div></div></template></test-fixture><test-fixture id="tabindex"><template><div><h2>Focusables (with tabindex)</h2><div tabindex="0" class="focusable7">7</div><div tabindex="0" class="focusable8">8</div><div tabindex="0" class="focusable9">9</div><div tabindex="0" class="focusable10">10</div><div tabindex="0" class="focusable11">11</div><div tabindex="0" class="focusable12">12</div><div tabindex="-1">not focusable</div><div tabindex="3" class="focusable3">3</div><div tabindex="4" class="focusable4">4</div><div tabindex="5" class="focusable5">5</div><div><div tabindex="1" class="focusable1">1 (nested)</div><div tabindex="6" class="focusable6">6 (nested)</div></div><div tabindex="2" class="focusable2">2</div></div></template></test-fixture><test-fixture id="shadow"><template><test-buttons><h2>focusables in ShadowDOM</h2><input placeholder="type something.."></test-buttons></template></test-fixture><test-fixture id="composed"><template><test-buttons-wrapper><input placeholder="type something.."></test-buttons-wrapper></template></test-fixture><script>suite('getTabbableNodes',function(){test('returns tabbable nodes',function(){var a=fixture('basic'),b=Polymer.IronFocusablesHelper.getTabbableNodes(a);assert.equal(b.length,3,'3 nodes are focusable'),assert.equal(b[0],Polymer.dom(a).querySelector('.focusable1')),assert.equal(b[1],Polymer.dom(a).querySelector('.focusable2')),assert.equal(b[2],Polymer.dom(a).querySelector('.focusable3'))}),test('includes the root if it has a valid tabindex',function(){var a=fixture('basic');a.setAttribute('tabindex','0');var b=Polymer.IronFocusablesHelper.getTabbableNodes(a);assert.equal(b.length,4,'4 focusable nodes'),assert.notEqual(b.indexOf(a),-1,'root is included')}),test('excludes visibility: hidden elements',function(){var a=fixture('basic'),b=Polymer.dom(a).querySelector('.focusable1');b.classList.add('hidden');var c=Polymer.IronFocusablesHelper.getTabbableNodes(a);assert.equal(c.length,2,'2 focusable nodes'),assert.equal(c.indexOf(b),-1,'hidden element is not included')}),test('excludes display: none elements',function(){var a=fixture('basic'),b=Polymer.dom(a).querySelector('.focusable1');b.classList.add('no-display');var c=Polymer.IronFocusablesHelper.getTabbableNodes(a);assert.equal(c.length,2,'2 focusable nodes'),assert.equal(c.indexOf(b),-1,'hidden element is not included')}),test('respects the tabindex order',function(){var a=fixture('tabindex'),b=Polymer.IronFocusablesHelper.getTabbableNodes(a);assert.equal(b.length,12,'12 nodes are focusable');for(var c=0;12>c;c++)assert.equal(b[c],Polymer.dom(a).querySelector('.focusable'+(c+1)))}),test('includes tabbable elements in the shadow dom',function(){var a=fixture('shadow'),b=Polymer.IronFocusablesHelper.getTabbableNodes(a);assert.equal(b.length,4,'4 nodes are focusable'),assert.equal(b[0],a.$.button0),assert.equal(b[1],a.$.button1),assert.equal(b[2],Polymer.dom(a).querySelector('input')),assert.equal(b[3],a.$.button2)}),test('handles composition',function(){var a=fixture('composed'),b=Polymer.IronFocusablesHelper.getTabbableNodes(a);assert.equal(b.length,6,'6 nodes are focusable'),assert.equal(b[0],a.$.select),assert.equal(b[1],a.$.wrapped.$.button0),assert.equal(b[2],a.$.wrapped.$.button1),assert.equal(b[3],Polymer.dom(a).querySelector('input')),assert.equal(b[4],a.$.wrapped.$.button2),assert.equal(b[5],a.$.focusableDiv)}),test('handles distributed nodes',function(){var a=fixture('composed'),b=a.$.wrapped,c=Polymer.IronFocusablesHelper.getTabbableNodes(b);assert.equal(c.length,4,'4 nodes are focusable'),assert.equal(c[0],b.$.button0),assert.equal(c[1],b.$.button1),assert.equal(c[2],Polymer.dom(a).querySelector('input')),assert.equal(c[3],b.$.button2)})});</script></body></html>