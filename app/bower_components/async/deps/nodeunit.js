nodeunit=function(){var JSON={};(function(){'use strict';function f(t){return 10>t?'0'+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(s){var o=meta[s];return'string'===typeof o?o:'\\u'+('0000'+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,s){var o,l,u,p,h,g=gap,m=s[t];switch(m&&'object'===('undefined'===typeof m?'undefined':babelHelpers.typeof(m))&&'function'===typeof m.toJSON&&(m=m.toJSON(t)),'function'===typeof rep&&(m=rep.call(s,t,m)),'undefined'===typeof m?'undefined':babelHelpers.typeof(m)){case'string':return quote(m);case'number':return isFinite(m)?m+'':'null';case'boolean':case'null':return m+'';case'object':if(!m)return'null';if(gap+=indent,h=[],'[object Array]'===Object.prototype.toString.apply(m)){for(p=m.length,o=0;o<p;o+=1)h[o]=str(o,m)||'null';return u=0===h.length?'[]':gap?'[\n'+gap+h.join(',\n'+gap)+'\n'+g+']':'['+h.join(',')+']',gap=g,u}if(rep&&'object'===('undefined'===typeof rep?'undefined':babelHelpers.typeof(rep)))for(p=rep.length,o=0;o<p;o+=1)l=rep[o],'string'===typeof l&&(u=str(l,m),u&&h.push(quote(l)+(gap?': ':':')+u));else for(l in m)Object.hasOwnProperty.call(m,l)&&(u=str(l,m),u&&h.push(quote(l)+(gap?': ':':')+u));return u=0===h.length?'{}':gap?'{\n'+gap+h.join(',\n'+gap)+'\n'+g+'}':'{'+h.join(',')+'}',gap=g,u;}}'function'!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var gap,indent,rep,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"":'\\b',"	":'\\t',"\n":'\\n',"":'\\f',"\r":'\\r','"':'\\"',"\\":'\\\\'};'function'!==typeof JSON.stringify&&(JSON.stringify=function(t,s,o){var l;if(gap='',indent='','number'===typeof o)for(l=0;l<o;l+=1)indent+=' ';else'string'===typeof o&&(indent=o);if(rep=s,s&&'function'!==typeof s&&('object'!==('undefined'===typeof s?'undefined':babelHelpers.typeof(s))||'number'!==typeof s.length))throw new Error('JSON.stringify');return str('',{"":t})}),'function'!==typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,s){var o,l,u=t[s];if(u&&'object'===('undefined'===typeof u?'undefined':babelHelpers.typeof(u)))for(o in u)Object.hasOwnProperty.call(u,o)&&(l=walk(u,o),void 0===l?delete u[o]:u[o]=l);return reviver.call(t,s,u)}var j;if(text+='',cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return'\\u'+('0000'+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'')))return j=eval('('+text+')'),'function'===typeof reviver?walk({"":j},''):j;throw new SyntaxError('JSON.parse')})})();var assert=this.assert={},types={},core={},nodeunit={},reporter={};return function(){var t={},s=this,o=s.async;'undefined'!==typeof module&&module.exports?module.exports=t:s.async=t,t.noConflict=function(){return s.async=o,t};var l=function(D,M){if(D.forEach)return D.forEach(M);for(var _=0;_<D.length;_+=1)M(D[_],_,D)},u=function(D,M){if(D.map)return D.map(M);var _=[];return l(D,function(J,U,L){_.push(M(J,U,L))}),_},p=function(D,M,_){return D.reduce?D.reduce(M,_):(l(D,function(J,U,L){_=M(_,J,U,L)}),_)},g=function(D){if(Object.keys)return Object.keys(D);var M=[];for(var _ in D)D.hasOwnProperty(_)&&M.push(_);return M},h=function(D,M){if(D.indexOf)return D.indexOf(M);for(var _=0;_<D.length;_+=1)if(D[_]===M)return _;return-1};t.nextTick='function'===typeof setImmediate?function(N){setImmediate(N)}:'undefined'!==typeof process&&process.nextTick?process.nextTick:function(N){setTimeout(N,0)},t.forEach=function(N,D,M){if(!N.length)return M();var _=0;l(N,function(J){D(J,function(U){U?(M(U),M=function(){}):(_+=1,_===N.length&&M())})})},t.forEachSeries=function(N,D,M){if(!N.length)return M();var _=0;(function U(){D(N[_],function(L){L?(M(L),M=function(){}):(_+=1,_===N.length?M():U())})})()};var m=function(D){return function(){var M=Array.prototype.slice.call(arguments);return D.apply(null,[t.forEach].concat(M))}},S=function(D){return function(){var M=Array.prototype.slice.call(arguments);return D.apply(null,[t.forEachSeries].concat(M))}},T=function(D,M,_,J){var U=[];M=u(M,function(L,P){return{index:P,value:L}}),D(M,function(L,P){_(L.value,function(H,F){U[L.index]=F,P(H)})},function(L){J(L,U)})};t.map=m(T),t.mapSeries=S(T),t.reduce=function(N,D,M,_){t.forEachSeries(N,function(J,U){M(D,J,function(L,P){D=P,U(L)})},function(J){_(J,D)})},t.inject=t.reduce,t.foldl=t.reduce,t.reduceRight=function(N,D,M,_){var J=u(N,function(U){return U}).reverse();t.reduce(J,D,M,_)},t.foldr=t.reduceRight;var E=function(D,M,_,J){var U=[];M=u(M,function(L,P){return{index:P,value:L}}),D(M,function(L,P){_(L.value,function(H){H&&U.push(L),P()})},function(){J(u(U.sort(function(P,H){return P.index-H.index}),function(P){return P.value}))})};t.filter=m(E),t.filterSeries=S(E),t.select=t.filter,t.selectSeries=t.filterSeries;var O=function(D,M,_,J){var U=[];M=u(M,function(L,P){return{index:P,value:L}}),D(M,function(L,P){_(L.value,function(H){H||U.push(L),P()})},function(){J(u(U.sort(function(P,H){return P.index-H.index}),function(P){return P.value}))})};t.reject=m(O),t.rejectSeries=S(O);var C=function(D,M,_,J){D(M,function(U,L){_(U,function(P){P?J(U):L()})},function(){J()})};t.detect=m(C),t.detectSeries=S(C),t.some=function(N,D,M){t.forEach(N,function(_,J){D(_,function(U){U&&(M(!0),M=function(){}),J()})},function(){M(!1)})},t.any=t.some,t.every=function(N,D,M){t.forEach(N,function(_,J){D(_,function(U){U||(M(!1),M=function(){}),J()})},function(){M(!0)})},t.all=t.every,t.sortBy=function(N,D,M){t.map(N,function(_,J){D(_,function(U,L){U?J(U):J(null,{value:_,criteria:L})})},function(_,J){if(_)return M(_);M(null,u(J.sort(function(P,H){var F=P.criteria,B=H.criteria;return F<B?-1:F>B?1:0}),function(L){return L.value}))})},t.auto=function(N,D){D=D||function(){};var M=g(N);if(!M.length)return D(null);var _=[],J=[],U=function(F){J.unshift(F)},L=function(F){for(var B=0;B<J.length;B+=1)if(J[B]===F)return void J.splice(B,1)},P=function(){l(J,function(F){F()})};U(function(){_.length===M.length&&D(null)}),l(M,function(H){var F=N[H]instanceof Function?[N[H]]:N[H],B=function(G){G?(D(G),D=function(){}):(_.push(H),P())},R=F.slice(0,Math.abs(F.length-1))||[],I=function(){return p(R,function(G,Y){return G&&-1!==h(_,Y)},!0)};if(I())F[F.length-1](B);else{var Z=function z(){I()&&(L(z),F[F.length-1](B))};U(Z)}})},t.waterfall=function(N,D){if(!N.length)return D();D=D||function(){};(function _(J){return function(U){if(U)D(U),D=function(){};else{var L=Array.prototype.slice.call(arguments,1),P=J.next();P?L.push(_(P)):L.push(D),t.nextTick(function(){J.apply(null,L)})}}})(t.iterator(N))()},t.parallel=function(N,D){if(D=D||function(){},N.constructor===Array)t.map(N,function(_,J){_&&_(function(U){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),J.call(null,U,L||null)})},D);else{var M={};t.forEach(g(N),function(_,J){N[_](function(U){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),M[_]=L,J(U)})},function(_){D(_,M)})}},t.series=function(N,D){if(D=D||function(){},N.constructor===Array)t.mapSeries(N,function(_,J){_&&_(function(U){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),J.call(null,U,L||null)})},D);else{var M={};t.forEachSeries(g(N),function(_,J){N[_](function(U){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),M[_]=L,J(U)})},function(_){D(_,M)})}},t.iterator=function(N){return function M(_){var J=function U(){return N.length&&N[_].apply(null,arguments),U.next()};return J.next=function(){return _<N.length-1?M(_+1):null},J}(0)},t.apply=function(N){var D=Array.prototype.slice.call(arguments,1);return function(){return N.apply(null,D.concat(Array.prototype.slice.call(arguments)))}};var w=function(D,M,_,J){var U=[];D(M,function(L,P){_(L,function(H,F){U=U.concat(F||[]),P(H)})},function(L){J(L,U)})};t.concat=m(w),t.concatSeries=S(w),t.whilst=function(N,D,M){N()?D(function(_){return _?M(_):void t.whilst(N,D,M)}):M()},t.until=function(N,D,M){N()?M():D(function(_){return _?M(_):void t.until(N,D,M)})},t.queue=function(N,D){var M=0,_=[],J={concurrency:D,push:function(L,P){_.push({data:L,callback:P}),t.nextTick(J.process)},process:function(){if(M<J.concurrency&&_.length){var L=_.splice(0,1)[0];M+=1,N(L.data,function(){M-=1,L.callback&&L.callback.apply(L,arguments),J.process()})}},length:function(){return _.length}};return J};var A=function(D){return function(M){var _=Array.prototype.slice.call(arguments,1);M.apply(null,_.concat([function(J){var U=Array.prototype.slice.call(arguments,1);'undefined'!==typeof console&&(J?console.error&&console.error(J):console[D]&&l(U,function(L){console[D](L)}))}]))}};t.log=A('log'),t.dir=A('dir'),t.memoize=function(N,D){var M={};return D=D||function(_){return _},function(){var _=Array.prototype.slice.call(arguments),J=_.pop(),U=D.apply(null,_);U in M?J.apply(null,M[U]):N.apply(null,_.concat([function(){M[U]=arguments,J.apply(null,arguments)}]))}}}(),function(t){function s(C,w,A,N,D){throw new T.AssertionError({message:A,actual:C,expected:w,operator:N,stackStartFunction:D})}function o(C,w){return C===w||(C instanceof Date&&w instanceof Date?C.getTime()===w.getTime():C instanceof RegExp&&w instanceof RegExp?C.source===w.source&&C.global===w.global&&C.ignoreCase===w.ignoreCase&&C.multiline===w.multiline:O&&C instanceof O&&w instanceof O?function(){var A,N;for(A=0,N=w.length;A<N;A++)if(C[A]!==w[A])return!1;return C.length===w.length}():'object'!=('undefined'===typeof C?'undefined':babelHelpers.typeof(C))&&'object'!=('undefined'===typeof w?'undefined':babelHelpers.typeof(w))?C==w:p(C,w))}function l(C){return null===C||void 0===C}function u(C){return'[object Arguments]'==Object.prototype.toString.call(C)}function p(C,w){if(l(C)||l(w))return!1;if(C.prototype!==w.prototype)return!1;if(u(C))return!!u(w)&&(C=S.call(C),w=S.call(w),o(C,w));try{var D,M,A=m(C),N=m(w)}catch(_){return!1}if(A.length!=N.length)return!1;for(A.sort(),N.sort(),M=A.length-1;0<=M;M--)if(A[M]!=N[M])return!1;for(M=A.length-1;0<=M;M--)if(D=A[M],!o(C[D],w[D]))return!1;return!0}function g(C,w){return C&&w&&(w instanceof RegExp?w.test(C.message||C):!!(C instanceof w)||!0===w.call({},C))}function h(C,w,A,N){var D;'string'===typeof A&&(N=A,A=null);try{w()}catch(M){D=M}if(N=(A&&A.name?' ('+A.name+').':'.')+(N?' '+N:'.'),C&&!D&&s('Missing expected exception'+N),!C&&g(D,A)&&s('Got unwanted exception'+N),C&&D&&A&&!g(D,A)||!C&&D)throw D}var m=function(w){if(Object.keys)return Object.keys(w);if('object'!=('undefined'===typeof w?'undefined':babelHelpers.typeof(w))&&'function'!=typeof w)throw new TypeError('-');var A=[];for(var N in w)w.hasOwnProperty(N)&&A.push(N);return A},S=Array.prototype.slice,T=t;T.AssertionError=function(w){this.name='AssertionError',this.message=w.message,this.actual=w.actual,this.expected=w.expected,this.operator=w.operator;var A=w.stackStartFunction||s;Error.captureStackTrace&&Error.captureStackTrace(this,A)},T.AssertionError.super_=Error;var E=function(){this.constructor=T.AssertionError};E.prototype=Error.prototype,T.AssertionError.prototype=new E,T.AssertionError.prototype.toString=function(){return this.message?[this.name+':',this.message].join(' '):[this.name+':','undefined'===typeof this.expected?'undefined':JSON.stringify(this.expected),this.operator,'undefined'===typeof this.actual?'undefined':JSON.stringify(this.actual)].join(' ')},T.AssertionError.__proto__=Error.prototype,T.fail=s,T.ok=function(w,A){!!w||s(w,!0,A,'==',T.ok)},T.equal=function(w,A,N){w!=A&&s(w,A,N,'==',T.equal)},T.notEqual=function(w,A,N){w==A&&s(w,A,N,'!=',T.notEqual)},T.deepEqual=function(w,A,N){o(w,A)||s(w,A,N,'deepEqual',T.deepEqual)};var O=null;if('undefined'!==typeof require&&'undefined'!==typeof process)try{O=require('buffer').Buffer}catch(C){O=null}T.notDeepEqual=function(w,A,N){o(w,A)&&s(w,A,N,'notDeepEqual',T.notDeepEqual)},T.strictEqual=function(w,A,N){w!==A&&s(w,A,N,'===',T.strictEqual)},T.notStrictEqual=function(w,A,N){w===A&&s(w,A,N,'!==',T.notStrictEqual)},T.throws=function(){h.apply(this,[!0].concat(S.call(arguments)))},T.doesNotThrow=function(){h.apply(this,[!1].concat(S.call(arguments)))},T.ifError=function(C){if(C)throw C}}(assert),function(t){t.assertion=function(o){return{method:o.method||'',message:o.message||o.error&&o.error.message||'',error:o.error,passed:function(){return!this.error},failed:function(){return!!this.error}}},t.assertionList=function(o,l){var u=o||[];return u.failures=function(){for(var p=0,g=0;g<this.length;g+=1)this[g].failed()&&(p+=1);return p},u.passes=function(){return u.length-u.failures()},u.duration=l||0,u};var s=function(l){return function(u,p,g){return function(){var h=arguments[g-1],m=t.assertion({method:u,message:h});try{assert[p].apply(null,arguments)}catch(S){m.error=S}l(m)}}};t.test=function(o,l,u,p){var g,h=[],m=s(function(E){h.push(E),u.log&&async.nextTick(function(){u.log(E)})}),S={done:function(O){if(void 0!==g&&g!==h.length){var C=new Error('Expected '+g+' assertions, '+h.length+' ran'),w=t.assertion({method:'expect',error:C});h.push(w),u.log&&async.nextTick(function(){u.log(w)})}if(O){var A=t.assertion({error:O});h.push(A),u.log&&async.nextTick(function(){u.log(A)})}var N=new Date().getTime();async.nextTick(function(){var D=t.assertionList(h,N-l);u.testDone(o,D),p(null,h)})},ok:m('ok','ok',2),same:m('same','deepEqual',3),equals:m('equals','equal',3),expect:function(O){g=O},_assertion_list:h};for(var T in assert)assert.hasOwnProperty(T)&&(S[T]=m(T,T,assert[T].length));return S},t.options=function(o){var l=function(p){o[p]=o[p]||function(){}};return l('moduleStart'),l('moduleDone'),l('testStart'),l('testReady'),l('testDone'),o}}(types),function(t){var s=function(h){if(Object.keys)return Object.keys(h);var m=[];for(var S in h)h.hasOwnProperty(S)&&m.push(S);return m},o=function(h){for(var m={},S=s(h),T=0;T<S.length;T+=1)m[S[T]]=h[S[T]];return m};t.runTest=function(g,h,m,S){var T=types.options(m);T.testStart(g);var E=new Date().getTime(),O=types.test(g,E,T,S);T.testReady(O);try{h(O)}catch(C){O.done(C)}},t.runSuite=function(g,h,m,S){h=p(h);var T=s(h);async.concatSeries(T,function(E,O){var w,C=h[E];if(w=g?[].concat(g,E):[E],w.toString=function(){return this.join(' - ')},'function'===typeof C){for(var A=!1,N=w.toString()===m.testFullSpec,D=0;D<w.length;D+=1)w[D]===m.testspec&&(A=!0);if((!m.testFullSpec||N)&&(!m.testspec||A))m.moduleStart&&m.moduleStart(),t.runTest(w,h[E],m,O);else return O()}else t.runSuite(w,h[E],m,O)},S)},t.runModule=function(g,h,m,S){var E=o(types.options(m)),O=!1,C=E.moduleStart;h=p(h),E.moduleStart=function(){O||(O=!0,C(g))};var w=new Date().getTime();t.runSuite(null,h,E,function(A,N){var D=new Date().getTime(),M=types.assertionList(N,D-w);E.moduleDone(g,M),nodeunit.complete&&nodeunit.complete(g,M),S(null,N)})},t.runModules=function(g,h){var S=types.options(h),T=new Date().getTime();async.concatSeries(s(g),function(E,O){t.runModule(E,g[E],S,O)},function(E,O){var C=new Date().getTime();S.done(types.assertionList(O,C-T))})};var l=function(h,m,S){return function(T){var E={};if(m){var O=T.done;T.done=function(C){try{m.call(E,function(w){return C&&w?(T._assertion_list.push(types.assertion({error:C})),O(w)):void O(C||w)})}catch(w){O(w)}}}h?h.call(E,function(C){return C?T.done(C):void S.call(E,T)}):S.call(E,T)}},u=function(h){return h.length?function(m){for(var S=this,T=[],E=0,O=h.length;E<O;E++)(function(C){T.push(function(){return h[C].apply(S,arguments)})})(E);return async.series(T,m)}:null},p=function g(h,m,S){var T={},m=m?m.slice():[],S=S?S.slice():[];h.setUp&&(m.push(h.setUp),delete h.setUp),h.tearDown&&(S.unshift(h.tearDown),delete h.tearDown);for(var C,E=s(h),O=0;O<E.length;O+=1)C=E[O],'function'===typeof h[C]?T[C]=l(u(m),u(S),h[C]):'object'===babelHelpers.typeof(h[C])&&(T[C]=g(h[C],m,S));return T};t.testCase=function(g){return g}}(core),function(t){t.info='Browser-based test reporter',t.run=function(s,o,l){function p(C,w){var A=document.getElementById(w);return A||(A=document.createElement(C),A.id=w,h.appendChild(A)),A}var h,g=new Date().getTime();o=o||{},h=o.div||document.body;var m=p('h1','nodeunit-header'),S=p('h2','nodeunit-banner'),T=p('h2','nodeunit-userAgent'),E=p('ol','nodeunit-tests'),O=p('p','nodeunit-testresult');(function(C,w){'innerText'in C?C.innerText=w:'textContent'in C&&(C.textContent=w)})(T,navigator.userAgent),nodeunit.runModules(s,{moduleStart:function(){},testDone:function(w,A){var N=document.createElement('li'),D=document.createElement('strong');D.innerHTML=w+' <b style="color: black;">(<b class="fail">'+A.failures()+'</b>, <b class="pass">'+A.passes()+'</b>, '+A.length+')</b>',N.className=A.failures()?'fail':'pass',N.appendChild(D);var M=document.createElement('ol');M.style.display='none',N.onclick=function(){var L=M.style.display;M.style.display='none'==L?'block':'none'};for(var _=0;_<A.length;_++){var J=document.createElement('li'),U=A[_];U.failed()?(J.innerHTML=(U.message||U.method||'no message')+'<pre>'+(U.error.stack||U.error)+'</pre>',J.className='fail'):(J.innerHTML=U.message||U.method||'no message',J.className='pass'),M.appendChild(J)}N.appendChild(M),E.appendChild(N)},done:function(w){var A=new Date().getTime(),D=w.failures();S.className=D?'fail':'pass',O.innerHTML='Tests completed in '+(A-g)+' milliseconds.<br/><span class="passed">'+w.passes()+'</span> assertions of <span class="all">'+w.length+'<span> passed, '+w.failures()+' failed.',l&&l(w.failures()?new Error('We have got test failures.'):void 0)}})}}(reporter),nodeunit=core,nodeunit.assert=assert,nodeunit.reporter=reporter,nodeunit.run=reporter.run,nodeunit}();