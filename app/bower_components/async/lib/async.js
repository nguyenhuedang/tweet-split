(function(){function c(){}function d(aa){return aa}function f(aa){return!!aa}function g(aa){return!aa}function h(aa){return function(){if(null===aa)throw new Error('Callback was already called.');aa.apply(this,arguments),aa=null}}function j(aa){return function(){null===aa||(aa.apply(this,arguments),aa=null)}}function m(aa){return W(aa)||'number'===typeof aa.length&&0<=aa.length&&0===aa.length%1}function n(aa,ba){for(var ca=-1,da=aa.length;++ca<da;)ba(aa[ca],ca,aa)}function o(aa,ba){for(var ca=-1,da=aa.length,ea=Array(da);++ca<da;)ea[ca]=ba(aa[ca],ca,aa);return ea}function p(aa){return o(Array(aa),function(ba,ca){return ca})}function r(aa,ba,ca){return n(aa,function(da,ea,fa){ca=ba(ca,da,ea,fa)}),ca}function s(aa,ba){n(Y(aa),function(ca){ba(aa[ca],ca)})}function u(aa,ba){for(var ca=0;ca<aa.length;ca++)if(aa[ca]===ba)return ca;return-1}function z(aa){var ba=-1,ca,da;return m(aa)?(ca=aa.length,function(){return ba++,ba<ca?ba:null}):(da=Y(aa),ca=da.length,function(){return ba++,ba<ca?da[ba]:null})}function A(aa,ba){return ba=null==ba?aa.length-1:+ba,function(){for(var ca=Math.max(arguments.length-ba,0),da=Array(ca),ea=0;ea<ca;ea++)da[ea]=arguments[ea+ba];return 0===ba?aa.call(this,da):1===ba?aa.call(this,arguments[0],da):void 0}}function B(aa){return function(ba,ca,da){return aa(ba,da)}}function C(aa){return function(ba,ca,da){da=j(da||c),ba=ba||[];var ea=z(ba);if(0>=aa)return da(null);var fa=!1,ga=0,ha=!1;(function ia(){if(fa&&0>=ga)return da(null);for(;ga<aa&&!ha;){var ja=ea();if(null===ja)return fa=!0,void(0>=ga&&da(null));ga+=1,ca(ba[ja],ja,h(function(ka){ga-=1,ka?(da(ka),ha=!0):ia()}))}})()}}function D(aa){return function(ba,ca,da){return aa(S.eachOf,ba,ca,da)}}function E(aa){return function(ba,ca,da,ea){return aa(C(ca),ba,da,ea)}}function F(aa){return function(ba,ca,da){return aa(S.eachOfSeries,ba,ca,da)}}function G(aa,ba,ca,da){da=j(da||c),ba=ba||[];var ea=m(ba)?[]:{};aa(ba,function(fa,ga,ha){ca(fa,function(ia,ja){ea[ga]=ja,ha(ia)})},function(fa){da(fa,ea)})}function H(aa,ba,ca,da){var ea=[];aa(ba,function(fa,ga,ha){ca(fa,function(ia){ia&&ea.push({index:ga,value:fa}),ha()})},function(){da(o(ea.sort(function(fa,ga){return fa.index-ga.index}),function(fa){return fa.value}))})}function I(aa,ba,ca,da){H(aa,ba,function(ea,fa){ca(ea,function(ga){fa(!ga)})},da)}function J(aa,ba,ca){return function(da,ea,fa,ga){function ha(){ga&&ga(ca(!1,void 0))}function ia(ja,ka,la){return ga?void fa(ja,function(ma){ga&&ba(ma)&&(ga(ca(!0,ja)),ga=fa=!1),la()}):la()}3<arguments.length?aa(da,ea,ia,ha):(ga=fa,fa=ea,aa(da,ia,ha))}}function K(aa,ba){return ba}function L(aa,ba,ca){ca=ca||c;var da=m(ba)?[]:{};aa(ba,function(ea,fa,ga){ea(A(function(ha,ia){1>=ia.length&&(ia=ia[0]),da[fa]=ia,ga(ha)}))},function(ea){ca(ea,da)})}function M(aa,ba,ca,da){var ea=[];aa(ba,function(fa,ga,ha){ca(fa,function(ia,ja){ea=ea.concat(ja||[]),ha(ia)})},function(fa){da(fa,ea)})}function N(aa,ba,ca){function da(ia,ja,ka,la){if(null!=la&&'function'!==typeof la)throw new Error('task callback must be a function');return ia.started=!0,W(ja)||(ja=[ja]),0===ja.length&&ia.idle()?S.setImmediate(function(){ia.drain()}):void(n(ja,function(ma){var na={data:ma,callback:la||c};ka?ia.tasks.unshift(na):ia.tasks.push(na),ia.tasks.length===ia.concurrency&&ia.saturated()}),S.setImmediate(ia.process))}function ea(ia,ja){return function(){fa-=1;var ka=!1,la=arguments;n(ja,function(ma){n(ga,function(na,oa){na!==ma||ka||(ga.splice(oa,1),ka=!0)}),ma.callback.apply(ma,la)}),0===ia.tasks.length+fa&&ia.drain(),ia.process()}}if(null==ba)ba=1;else if(0===ba)throw new Error('Concurrency must not be zero');var fa=0,ga=[],ha={tasks:[],concurrency:ba,payload:ca,saturated:c,empty:c,drain:c,started:!1,paused:!1,push:function(ja,ka){da(ha,ja,!1,ka)},kill:function(){ha.drain=c,ha.tasks=[]},unshift:function(ja,ka){da(ha,ja,!0,ka)},process:function(){for(;!ha.paused&&fa<ha.concurrency&&ha.tasks.length;){var ja=ha.payload?ha.tasks.splice(0,ha.payload):ha.tasks.splice(0,ha.tasks.length),ka=o(ja,function(ma){return ma.data});0===ha.tasks.length&&ha.empty(),fa+=1,ga.push(ja[0]);var la=h(ea(ha,ja));aa(ka,la)}},length:function(){return ha.tasks.length},running:function(){return fa},workersList:function(){return ga},idle:function(){return 0===ha.tasks.length+fa},pause:function(){ha.paused=!0},resume:function(){if(!1!==ha.paused){ha.paused=!1;for(var ja=Math.min(ha.concurrency,ha.tasks.length),ka=1;ka<=ja;ka++)S.setImmediate(ha.process)}}};return ha}function O(aa){return A(function(ba,ca){ba.apply(null,ca.concat([A(function(da,ea){'object'===('undefined'===typeof console?'undefined':babelHelpers.typeof(console))&&(da?console.error&&console.error(da):console[aa]&&n(ea,function(fa){console[aa](fa)}))})]))})}function P(aa){return function(ba,ca,da){aa(p(ba),ca,da)}}function Q(aa){return A(function(ba,ca){var da=A(function(ea){var fa=this,ga=ea.pop();return aa(ba,function(ha,ia,ja){ha.apply(fa,ea.concat([ja]))},ga)});return ca.length?da.apply(this,ca):da})}function R(aa){return A(function(ba){var ca=ba.pop();ba.push(function(){var ea=arguments;da?S.setImmediate(function(){ca.apply(null,ea)}):ca.apply(null,ea)});var da=!0;aa.apply(this,ba),da=!1})}var S={},T,U='object'===('undefined'===typeof self?'undefined':babelHelpers.typeof(self))&&self.self===self&&self||'object'===('undefined'===typeof global?'undefined':babelHelpers.typeof(global))&&global.global===global&&global||this;null!=U&&(T=U.async),S.noConflict=function(){return U.async=T,S};var V=Object.prototype.toString,W=Array.isArray||function(aa){return'[object Array]'===V.call(aa)},X=function(ba){var ca='undefined'===typeof ba?'undefined':babelHelpers.typeof(ba);return'function'===ca||'object'===ca&&!!ba},Y=Object.keys||function(aa){var ba=[];for(var ca in aa)aa.hasOwnProperty(ca)&&ba.push(ca);return ba},Z='function'===typeof setImmediate&&setImmediate,$=Z?function(aa){Z(aa)}:function(aa){setTimeout(aa,0)};S.nextTick='object'===('undefined'===typeof process?'undefined':babelHelpers.typeof(process))&&'function'===typeof process.nextTick?process.nextTick:$,S.setImmediate=Z?$:S.nextTick,S.forEach=S.each=function(aa,ba,ca){return S.eachOf(aa,B(ba),ca)},S.forEachSeries=S.eachSeries=function(aa,ba,ca){return S.eachOfSeries(aa,B(ba),ca)},S.forEachLimit=S.eachLimit=function(aa,ba,ca,da){return C(ba)(aa,B(ca),da)},S.forEachOf=S.eachOf=function(aa,ba,ca){function da(ha){ga--,ha?ca(ha):null===fa&&0>=ga&&ca(null)}ca=j(ca||c),aa=aa||[];for(var fa,ea=z(aa),ga=0;null!=(fa=ea());)ga+=1,ba(aa[fa],fa,h(da));0===ga&&ca(null)},S.forEachOfSeries=S.eachOfSeries=function(aa,ba,ca){function da(){var ga=!0;return null===fa?ca(null):void(ba(aa[fa],fa,h(function(ha){if(ha)ca(ha);else{if(fa=ea(),null===fa)return ca(null);ga?S.setImmediate(da):da()}})),ga=!1)}ca=j(ca||c),aa=aa||[];var ea=z(aa),fa=ea();da()},S.forEachOfLimit=S.eachOfLimit=function(aa,ba,ca,da){C(ba)(aa,ca,da)},S.map=D(G),S.mapSeries=F(G),S.mapLimit=E(G),S.inject=S.foldl=S.reduce=function(aa,ba,ca,da){S.eachOfSeries(aa,function(ea,fa,ga){ca(ba,ea,function(ha,ia){ba=ia,ga(ha)})},function(ea){da(ea,ba)})},S.foldr=S.reduceRight=function(aa,ba,ca,da){var ea=o(aa,d).reverse();S.reduce(ea,ba,ca,da)},S.transform=function(aa,ba,ca,da){3===arguments.length&&(da=ca,ca=ba,ba=W(aa)?[]:{}),S.eachOf(aa,function(ea,fa,ga){ca(ba,ea,fa,ga)},function(ea){da(ea,ba)})},S.select=S.filter=D(H),S.selectLimit=S.filterLimit=E(H),S.selectSeries=S.filterSeries=F(H),S.reject=D(I),S.rejectLimit=E(I),S.rejectSeries=F(I),S.any=S.some=J(S.eachOf,f,d),S.someLimit=J(S.eachOfLimit,f,d),S.all=S.every=J(S.eachOf,g,g),S.everyLimit=J(S.eachOfLimit,g,g),S.detect=J(S.eachOf,d,K),S.detectSeries=J(S.eachOfSeries,d,K),S.detectLimit=J(S.eachOfLimit,d,K),S.sortBy=function(aa,ba,ca){function da(ea,fa){var ga=ea.criteria,ha=fa.criteria;return ga<ha?-1:ga>ha?1:0}S.map(aa,function(ea,fa){ba(ea,function(ga,ha){ga?fa(ga):fa(null,{value:ea,criteria:ha})})},function(ea,fa){return ea?ca(ea):void ca(null,o(fa.sort(da),function(ga){return ga.value}))})},S.auto=function(aa,ba,ca){function da(ma){la.unshift(ma)}function ea(ma){var na=u(la,ma);0<=na&&la.splice(na,1)}function fa(){ha--,n(la.slice(0),function(ma){ma()})}'function'===typeof arguments[1]&&(ca=ba,ba=null),ca=j(ca||c);var ga=Y(aa),ha=ga.length;if(!ha)return ca(null);ba||(ba=ha);var ia={},ja=0,ka=!1,la=[];da(function(){ha||ca(null,ia)}),n(ga,function(ma){function na(){return ja<ba&&r(ra,function(ua,va){return ua&&ia.hasOwnProperty(va)},!0)&&!ia.hasOwnProperty(ma)}function oa(){na()&&(ja++,ea(oa),pa[pa.length-1](qa,ia))}if(!ka){for(var ta,pa=W(aa[ma])?aa[ma]:[aa[ma]],qa=A(function(ua,va){if(ja--,1>=va.length&&(va=va[0]),ua){var wa={};s(ia,function(xa,ya){wa[ya]=xa}),wa[ma]=va,ka=!0,ca(ua,wa)}else ia[ma]=va,S.setImmediate(fa)}),ra=pa.slice(0,pa.length-1),sa=ra.length;sa--;){if(!(ta=aa[ra[sa]]))throw new Error('Has nonexistent dependency in '+ra.join(', '));if(W(ta)&&0<=u(ta,ma))throw new Error('Has cyclic dependencies')}na()?(ja++,pa[pa.length-1](qa,ia)):da(oa)}})},S.retry=function(aa,ba,ca){function ea(ka,la){function ma(pa,qa){return function(ra){pa(function(sa,ta){ra(!sa||qa,{err:sa,result:ta})},la)}}function na(pa){return function(qa){setTimeout(function(){qa(null)},pa)}}for(;ia.times;){var oa=!(ia.times-=1);ha.push(ma(ia.task,oa)),!oa&&0<ia.interval&&ha.push(na(ia.interval))}S.series(ha,function(pa,qa){qa=qa[qa.length-1],(ka||ia.callback)(qa.err,qa.result)})}var fa=5,ga=0,ha=[],ia={times:fa,interval:ga},ja=arguments.length;if(1>ja||3<ja)throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');else 2>=ja&&'function'===typeof aa&&(ca=ba,ba=aa);return'function'!==typeof aa&&function(ka,la){if('number'===typeof la)ka.times=parseInt(la,10)||fa;else if('object'===('undefined'===typeof la?'undefined':babelHelpers.typeof(la)))ka.times=parseInt(la.times,10)||fa,ka.interval=parseInt(la.interval,10)||ga;else throw new Error('Unsupported argument type for \'times\': '+('undefined'===typeof la?'undefined':babelHelpers.typeof(la)))}(ia,aa),ia.callback=ca,ia.task=ba,ia.callback?ea():ea},S.waterfall=function(aa,ba){function ca(ea){return A(function(fa,ga){if(fa)ba.apply(null,[fa].concat(ga));else{var ha=ea.next();ha?ga.push(ca(ha)):ga.push(ba),R(ea).apply(null,ga)}})}if(ba=j(ba||c),!W(aa)){var da=new Error('First argument to waterfall must be an array of functions');return ba(da)}return aa.length?void ca(S.iterator(aa))():ba()},S.parallel=function(aa,ba){L(S.eachOf,aa,ba)},S.parallelLimit=function(aa,ba,ca){L(C(ba),aa,ca)},S.series=function(aa,ba){L(S.eachOfSeries,aa,ba)},S.iterator=function(aa){function ba(ca){function da(){return aa.length&&aa[ca].apply(null,arguments),da.next()}return da.next=function(){return ca<aa.length-1?ba(ca+1):null},da}return ba(0)},S.apply=A(function(aa,ba){return A(function(ca){return aa.apply(null,ba.concat(ca))})}),S.concat=D(M),S.concatSeries=F(M),S.whilst=function(aa,ba,ca){if(ca=ca||c,aa()){var da=A(function(ea,fa){ea?ca(ea):aa.apply(this,fa)?ba(da):ca.apply(null,[null].concat(fa))});ba(da)}else ca(null)},S.doWhilst=function(aa,ba,ca){var da=0;return S.whilst(function(){return 1>=++da||ba.apply(this,arguments)},aa,ca)},S.until=function(aa,ba,ca){return S.whilst(function(){return!aa.apply(this,arguments)},ba,ca)},S.doUntil=function(aa,ba,ca){return S.doWhilst(aa,function(){return!ba.apply(this,arguments)},ca)},S.during=function(aa,ba,ca){ca=ca||c;var da=A(function(fa,ga){fa?ca(fa):(ga.push(ea),aa.apply(this,ga))}),ea=function(ga,ha){ga?ca(ga):ha?ba(da):ca(null)};aa(ea)},S.doDuring=function(aa,ba,ca){var da=0;S.during(function(ea){1>da++?ea(null,!0):ba.apply(this,arguments)},aa,ca)},S.queue=function(aa,ba){var ca=N(function(da,ea){aa(da[0],ea)},ba,1);return ca},S.priorityQueue=function(aa,ba){function ca(ga,ha){return ga.priority-ha.priority}function da(ga,ha,ia){for(var la,ja=-1,ka=ga.length-1;ja<ka;)la=ja+(ka-ja+1>>>1),0<=ia(ha,ga[la])?ja=la:ka=la-1;return ja}function ea(ga,ha,ia,ja){if(null!=ja&&'function'!==typeof ja)throw new Error('task callback must be a function');return ga.started=!0,W(ha)||(ha=[ha]),0===ha.length?S.setImmediate(function(){ga.drain()}):void n(ha,function(ka){var la={data:ka,priority:ia,callback:'function'===typeof ja?ja:c};ga.tasks.splice(da(ga.tasks,la,ca)+1,0,la),ga.tasks.length===ga.concurrency&&ga.saturated(),S.setImmediate(ga.process)})}var fa=S.queue(aa,ba);return fa.push=function(ga,ha,ia){ea(fa,ga,ha,ia)},delete fa.unshift,fa},S.cargo=function(aa,ba){return N(aa,1,ba)},S.log=O('log'),S.dir=O('dir'),S.memoize=function(aa,ba){var ca={},da={},ea=Object.prototype.hasOwnProperty;ba=ba||d;var fa=A(function(ha){var ia=ha.pop(),ja=ba.apply(null,ha);ea.call(ca,ja)?S.setImmediate(function(){ia.apply(null,ca[ja])}):ea.call(da,ja)?da[ja].push(ia):(da[ja]=[ia],aa.apply(null,ha.concat([A(function(ka){ca[ja]=ka;var la=da[ja];delete da[ja];for(var ma=0,na=la.length;ma<na;ma++)la[ma].apply(null,ka)})])))});return fa.memo=ca,fa.unmemoized=aa,fa},S.unmemoize=function(aa){return function(){return(aa.unmemoized||aa).apply(null,arguments)}},S.times=P(S.map),S.timesSeries=P(S.mapSeries),S.timesLimit=function(aa,ba,ca,da){return S.mapLimit(p(aa),ba,ca,da)},S.seq=function(){var aa=arguments;return A(function(ba){var ca=this,da=ba[ba.length-1];'function'==typeof da?ba.pop():da=c,S.reduce(aa,ba,function(ea,fa,ga){fa.apply(ca,ea.concat([A(function(ha,ia){ga(ha,ia)})]))},function(ea,fa){da.apply(ca,[ea].concat(fa))})})},S.compose=function(){return S.seq.apply(null,Array.prototype.reverse.call(arguments))},S.applyEach=Q(S.eachOf),S.applyEachSeries=Q(S.eachOfSeries),S.forever=function(aa,ba){function ca(fa){return fa?da(fa):void ea(ca)}var da=h(ba||c),ea=R(aa);ca()},S.ensureAsync=R,S.constant=A(function(aa){var ba=[null].concat(aa);return function(ca){return ca.apply(this,ba)}}),S.wrapSync=S.asyncify=function(ba){return A(function(ca){var da=ca.pop(),ea;try{ea=ba.apply(this,ca)}catch(fa){return da(fa)}X(ea)&&'function'===typeof ea.then?ea.then(function(fa){da(null,fa)})['catch'](function(fa){da(fa.message?fa:new Error(fa))}):da(null,ea)})},'object'===('undefined'===typeof module?'undefined':babelHelpers.typeof(module))&&module.exports?module.exports=S:'function'===typeof define&&define.amd?define([],function(){return S}):U.async=S})();