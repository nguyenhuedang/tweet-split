<!DOCTYPE html><html><head><title>iron-autogrow-textarea tests</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes">
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><script src="../../iron-test-helpers/mock-interactions.js"></script><link rel="import" href="../iron-autogrow-textarea.html"></head><body><test-fixture id="basic"><template><iron-autogrow-textarea></iron-autogrow-textarea></template></test-fixture><test-fixture id="has-bindValue"><template><iron-autogrow-textarea bind-value="foobar"></iron-autogrow-textarea></template></test-fixture><test-fixture id="has-value"><template><iron-autogrow-textarea value="foobar"></iron-autogrow-textarea></template></test-fixture><test-fixture id="rows"><template><iron-autogrow-textarea rows="3"></iron-autogrow-textarea></template></test-fixture><script>suite('basic',function(){test('setting bindValue sets textarea value',function(){var a=fixture('basic'),b=a.textarea;a.bindValue='batman',assert.equal(b.value,a.bindValue,'textarea value equals to bindValue')}),test('can set an initial bindValue',function(){var a=fixture('has-bindValue');assert.equal(a.textarea.value,'foobar','textarea value equals to initial bindValue'),assert.equal(a.value,'foobar','value equals to initial bindValue')}),test('can set an initial value',function(){var a=fixture('has-value');assert.equal(a.textarea.value,'foobar','textarea value equals to initial bindValue'),assert.equal(a.bindValue,'foobar','textarea bindValue equals to initial value')}),test('can update the value',function(){var a=fixture('has-bindValue');assert.equal(a.textarea.value,'foobar','textarea value equals to initial bindValue'),a.value='batman',assert.equal(a.textarea.value,'batman','textarea value is updated'),assert.equal(a.bindValue,'batman','bindValue is updated'),assert.equal(a.value,'batman','value is updated')}),test('can update the bindValue',function(){var a=fixture('has-bindValue');assert.equal(a.textarea.value,'foobar','textarea value equals to initial bindValue'),a.bindValue='batman',assert.equal(a.textarea.value,'batman','textarea value is updated'),assert.equal(a.bindValue,'batman','bindValue is updated'),assert.equal(a.value,'batman','value is updated')}),test('can set an initial number of rows',function(){var a=fixture('rows');assert.equal(a.textarea.rows,3,'textarea has rows=3')}),test('adding rows grows the textarea',function(){var a=fixture('basic'),b=a.offsetHeight;a.bindValue='batman\nand\nrobin';var c=a.offsetHeight;assert.isTrue(c>b)}),test('removing rows shrinks the textarea',function(){var a=fixture('basic');a.bindValue='batman\nand\nrobin';var b=a.offsetHeight;a.bindValue='batman';var c=a.offsetHeight;assert.isTrue(c<b)}),test('an undefined bindValue is the empty string',function(){var a=fixture('basic'),b=a.offsetHeight;a.bindValue='batman\nand\nrobin';var c=a.offsetHeight;assert.isTrue(c>b),a.bindValue=void 0,assert.equal(a.offsetHeight,b),assert.equal(a.textarea.value,'')}),test('textarea selection works',function(){var a=fixture('basic'),b=a.textarea;a.bindValue='batman\nand\nrobin',a.selectionStart=3,a.selectionEnd=5,assert.equal(b.selectionStart,3),assert.equal(b.selectionEnd,5)})}),suite('focus/blur events',function(){var a;setup(function(){a=fixture('basic')}),test('focus/blur events fired on host element',function(b){var c=0,d=0;a.addEventListener('focus',function(){c+=1,setTimeout(function(){assert.equal(c,1,'one focus event fired'),MockInteractions.blur(a.textarea)})}),a.addEventListener('blur',function(){d+=1,setTimeout(function(){assert.equal(d,1,'one blur event fired'),b()})}),MockInteractions.focus(a.textarea)})}),suite('validation',function(){test('a required textarea with no text is invalid',function(){var a=fixture('basic');a.required=!0,assert.isFalse(a.validate()),a.bindValue='batman',assert.isTrue(a.validate())})});</script></body></html>