<!DOCTYPE html><html><head><meta charset="UTF-8"><title>iron-scroll-target-behavior test</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><link rel="import" href="../../polymer/polymer.html"><link rel="import" href="../../test-fixture/test-fixture.html"><link rel="import" href="x-scrollable.html"><link rel="import" href="x-nested-scrollable.html"><style>#temporaryScrollingRegion,
    #region{overflow:auto;width:100px;height:100px;}</style></head><body><test-fixture id="trivialScrollable"><template><div id="temporaryScrollingRegion"><x-scrollable></x-scrollable></div></template></test-fixture><test-fixture id="trivialScrollingRegion"><template><div id="region"><x-scrollable scroll-target="region"></x-scrollable></div></template></test-fixture><test-fixture id="trivialNestedScrollingRegion"><template><x-nested-scrollable id="nestedScrollingRegion"></x-nested-scrollable></template></test-fixture><test-fixture id="trivialDocumentScroll"><template><x-scrollable scroll-target="document"></x-scrollable></template></test-fixture><script>suite('basic features',function(){var a,b;setup(function(){a=fixture('trivialScrollable'),b=Polymer.dom(a).querySelector('x-scrollable')}),test('default',function(){assert.equal(b._scrollTop,0,'_scrollTop'),assert.equal(b._scrollLeft,0,'_scrollLeft'),assert.equal(b._scrollTargetWidth,0,'_scrollTargetWidth'),assert.equal(b._scrollTargetHeight,0,'_scrollTargetHeight'),assert.equal(b.scrollTarget,null,'scrollTarget'),assert.equal(b._defaultScrollTarget,b.scrollTarget,'_defaultScrollTarget')}),test('invalid `scrollTarget` selector',function(c){flush(function(){b.scrollTarget='invalid-id',assert.equal(b.scrollTarget,null),c()})}),test('valid `scrollTarget` selector',function(c){flush(function(){b.scrollTarget='temporaryScrollingRegion',assert.equal(b.scrollTarget,a),c()})}),test('toggleScrollListener',function(c){flush(function(){b._scrollHandler=sinon.spy(),b.scrollTarget='temporaryScrollingRegion',b.scroll(0,100),b.toggleScrollListener(!0),setTimeout(function(){assert.isTrue(b._scrollHandler.called,'_scrollHandler should be called'),b._scrollHandler.reset(),assert.isFalse(b._scrollHandler.called),b.toggleScrollListener(!1),b.scroll(0,200),setTimeout(function(){assert.isFalse(b._scrollHandler.called,'_scrollHandler should not be called'),c()},100)},100)})})}),suite('scrolling region',function(){var a,b;setup(function(){a=fixture('trivialScrollingRegion'),b=Polymer.dom(a).querySelector('x-scrollable')}),teardown(function(){b._scrollTop=0,b._scrollLeft=0}),test('scrollTarget reference',function(c){flush(function(){assert.equal(b.scrollTarget,a),c()})}),test('invalid scrollTarget',function(c){flush(function(){assert.equal(b.scrollTarget,a),c()})}),test('setters',function(c){flush(function(){b._scrollTop=100,b._scrollLeft=100,assert.equal(a.scrollTop,100),assert.equal(a.scrollLeft,100),c()})}),test('getters',function(c){flush(function(){a.scrollTop=50,a.scrollLeft=50,assert.equal(b._scrollTop,50,'_scrollTop'),assert.equal(b._scrollLeft,50,'_scrollLeft'),assert.equal(b._scrollTargetWidth,a.offsetWidth,'_scrollTargetWidth'),assert.equal(b._scrollTargetHeight,a.offsetHeight,'_scrollTargetHeight'),c()})}),test('scroll method',function(c){flush(function(){b.scroll(110,110),assert.equal(b._scrollTop,110),assert.equal(b._scrollLeft,110),b.scroll(0,0),assert.equal(b._scrollTop,0),assert.equal(b._scrollLeft,0),c()})})}),suite('document scroll',function(){var a;setup(function(){a=fixture('trivialDocumentScroll')}),teardown(function(){a._scrollTop=0,a._scrollLeft=0}),test('scrollTarget reference',function(b){flush(function(){assert.equal(a.scrollTarget,document.documentElement),b()})}),test('setters',function(b){flush(function(){a._scrollTop=100,a._scrollLeft=100,assert.equal(window.pageXOffset,100),assert.equal(window.pageYOffset,100),b()})}),test('getters',function(b){flush(function(){window.scrollTo(50,50),assert.equal(a._scrollTop,50,'_scrollTop'),assert.equal(a._scrollLeft,50,'_scrollLeft'),assert.equal(a._scrollTargetWidth,window.innerWidth,'_scrollTargetWidth'),assert.equal(a._scrollTargetHeight,window.innerHeight,'_scrollTargetHeight'),b()})}),test('scroll method',function(b){flush(function(){a.scroll(1,2),assert.equal(a._scrollLeft,1),assert.equal(a._scrollTop,2),a.scroll(3,4),assert.equal(a._scrollLeft,3),assert.equal(a._scrollTop,4),b()})})}),suite('nested scrolling region',function(){var a,b;setup(function(){var c=fixture('trivialNestedScrollingRegion');b=c.$.xScrollable,a=c.$.xRegion}),teardown(function(){b._scrollTop=0,b._scrollLeft=0}),test('scrollTarget reference',function(c){flush(function(){assert.equal(b.scrollTarget,a),c()})}),test('setters',function(c){flush(function(){b._scrollTop=10,b._scrollLeft=20,assert.equal(a.scrollTop,10),assert.equal(a.scrollLeft,20),c()})}),test('getters',function(c){flush(function(){b._scrollTop=10,b._scrollLeft=20,assert.equal(b._scrollTop,10,'_scrollTop'),assert.equal(b._scrollLeft,20,'_scrollLeft'),c()})}),test('scroll method',function(c){flush(function(){b.scroll(1,2),assert.equal(b._scrollLeft,1),assert.equal(b._scrollTop,2),b.scroll(3,4),assert.equal(b._scrollLeft,3),assert.equal(b._scrollTop,4),c()})})});</script></body></html>