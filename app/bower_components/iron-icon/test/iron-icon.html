<!DOCTYPE html><html><head><title>iron-icon</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><script src="../../test-fixture/test-fixture-mocha.js"></script><link rel="import" href="../iron-icon.html"><link rel="import" href="../../iron-iconset/iron-iconset.html"><link rel="import" href="../../promise-polyfill/promise-polyfill.html"><link rel="import" href="../../test-fixture/test-fixture.html"></head><body><test-fixture id="TrivialIcon"><template><iron-icon src="../demo/location.png"></iron-icon></template></test-fixture><test-fixture id="IconFromIconset"><template><iron-iconset name="example" icons="location blank" src="location.png" size="24" width="48"></iron-iconset><iron-icon icon="example:location"></iron-icon></template></test-fixture><test-fixture id="WithoutAnIconSource"><template><iron-icon icon=""></iron-icon><iron-icon></iron-icon><iron-icon src=""></iron-icon></template></test-fixture><test-fixture id="UsingAsyncIconset"><template><iron-icon icon="async:location"></iron-icon></template></test-fixture><test-fixture id="AsyncIconset"><template><iron-iconset name="async" icons="location blank" src="location.png" size="24" width="48"></iron-iconset></template></test-fixture><test-fixture id="SrcIconSwitch"><template><iron-iconset name="example" icons="location blank" src="location.png" size="24" width="48"></iron-iconset><iron-icon></iron-icon></template></test-fixture><test-fixture id="ParentForceUpdate"><template><icon-holder><iron-icon></iron-icon></icon-holder></template></test-fixture><script>function iconElementFor(a){for(var b=Polymer.dom(a.root).childNodes,c=0;c<b.length;++c)if(b[c].nodeName.match(/DIV|IMG/))return b[c]}function hasIcon(a){return /png/.test(a.style.backgroundImage)}suite('<iron-icon>',function(){suite('basic behavior',function(){var a;setup(function(){a=fixture('TrivialIcon')}),test('can be assigned an icon with the src attribute',function(){expect(iconElementFor(a)).to.be.ok,expect(iconElementFor(a).src).to.match(/demo\/location\.png/)}),test('can change its src dynamically',function(){a.src='foo.png',expect(iconElementFor(a).src).to.match(/foo\.png/)})}),suite('lifecycle',function(){var a;setup(function(){a=document.createElement('iron-icon')}),teardown(function(){null!=a.parentNode&&Polymer.dom(a.parentNode).removeChild(a)}),test('does not create icon until attached',function(){a.src='location.png';var b=Polymer.dom(a.root).querySelectorAll('img,svg');expect(b.length).to.be.eql(0),Polymer.dom(document.body).appendChild(a),Polymer.dom.flush(),b=Polymer.dom(a.root).querySelectorAll('img,svg'),expect(b.length).to.be.eql(1)})}),suite('when paired with an iconset',function(){var a;setup(function(){var b=fixture('IconFromIconset');a=b[1]}),test('can be assigned an icon from the iconset',function(){expect(hasIcon(a)).to.be.ok}),test('can change its icon dynamically',function(){var b=a.style;expect(b.backgroundPosition).to.match(/0(%|px) 0(%|px)/),a.icon='example:blank',expect(b.backgroundPosition).to.match(/-24px 0(%|px)/)})}),suite('when no icon source is provided',function(){test('will politely wait for an icon source without throwing',function(){document.createElement('iron-icon'),fixture('WithoutAnIconSource')})}),suite('when loading async',function(){test('will get icon after iconset is added',function(){var a=fixture('UsingAsyncIconset');return expect(hasIcon(a)).to.be.false,new Promise(function(b,c){window.addEventListener('iron-iconset-added',function(){hasIcon(a)?b():c(new Error('icon didn\'t load after iconset loaded'))}),fixture('AsyncIconset')})})}),suite('when switching between src and icon properties',function(){var a;setup(function(){var b=fixture('IconFromIconset');a=b[1]}),test('will display the icon if both icon and src are set',function(){a.src='../demo/location.png',a.icon='example:location',expect(hasIcon(a)).to.be.true,expect(iconElementFor(a)).to.not.exist,a.icon='example:location',a.src='../demo/location.png',expect(hasIcon(a)).to.be.true,expect(iconElementFor(a)).to.not.exist}),test('will display the icon when src is defined first and then reset',function(){a.src='../demo/location.png',a.icon=null,a.src=null,a.icon='example:location',expect(hasIcon(a)).to.be.true,expect(iconElementFor(a)).to.not.exist}),test('will display the src when icon is defined first and then reset',function(){a.src=null,a.icon='example:location',a.src='../demo/location.png',a.icon=null,expect(hasIcon(a)).to.be.false,expect(iconElementFor(a)).to.exist}),test('will display nothing if both properties are unset',function(){a.src='../demo/location.png',a.icon='example:location',a.src=null,a.icon=null,expect(hasIcon(a)).to.be.false,expect(iconElementFor(a)).to.not.exist})}),suite('ancestor direct updates',function(){test('handle properties set before ready',function(){fixture('ParentForceUpdate')})})});</script></body></html>