!function(b){var c=/\{\{\{[\w\W]+?\}\}\}|\{\{[\w\W]+?\}\}/g;b.languages.handlebars=b.languages.extend("markup",{handlebars:{pattern:c,inside:{delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(\\?.)*?\1/,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee][+-]?\d+)?)\b/,boolean:/\b(true|false)\b/,block:{pattern:/^(\s*~?\s*)[#\/]\S+?(?=\s*~?\s*$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\w\W]+/}},punctuation:/[!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~\s]+/}}}),b.languages.insertBefore("handlebars","tag",{"handlebars-comment":{pattern:/\{\{![\w\W]*?\}\}/,alias:["handlebars","comment"]}}),b.hooks.add("before-highlight",function(d){"handlebars"===d.language&&(d.tokenStack=[],d.backupCode=d.code,d.code=d.code.replace(c,function(f){return d.tokenStack.push(f),"___HANDLEBARS"+d.tokenStack.length+"___"}))}),b.hooks.add("before-insert",function(d){"handlebars"===d.language&&(d.code=d.backupCode,delete d.backupCode)}),b.hooks.add("after-highlight",function(d){if("handlebars"===d.language){for(var f,g=0;f=d.tokenStack[g];g++)d.highlightedCode=d.highlightedCode.replace("___HANDLEBARS"+(g+1)+"___",b.highlight(f,d.grammar,"handlebars").replace(/\$/g,"$$$$"));d.element.innerHTML=d.highlightedCode}})}(Prism);