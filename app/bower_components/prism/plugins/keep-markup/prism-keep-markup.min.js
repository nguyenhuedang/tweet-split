!function(){"undefined"!=typeof self&&self.Prism&&self.document&&document.createRange&&(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",function(b){if(b.element.children.length){var c=0,f=[],g=function h(i,j){var k={};j||(k.clone=i.cloneNode(!1),k.posOpen=c,f.push(k));for(var q,l=0,m=i.childNodes.length;m>l;l++)q=i.childNodes[l],1===q.nodeType?h(q):3===q.nodeType&&(c+=q.data.length);j||(k.posClose=c)};g(b.element,!0),f.length&&(b.keepMarkup=f)}}),Prism.hooks.add("after-highlight",function(b){if(b.keepMarkup&&b.keepMarkup.length){var c=function f(g,h){for(var k,i=0,j=g.childNodes.length;j>i;i++){if(k=g.childNodes[i],1!==k.nodeType)3===k.nodeType&&(!h.nodeStart&&h.pos+k.data.length>h.node.posOpen&&(h.nodeStart=k,h.nodeStartPos=h.node.posOpen-h.pos),h.nodeStart&&h.pos+k.data.length>=h.node.posClose&&(h.nodeEnd=k,h.nodeEndPos=h.node.posClose-h.pos),h.pos+=k.data.length);else if(!f(k,h))return!1;if(h.nodeStart&&h.nodeEnd){var l=document.createRange();return l.setStart(h.nodeStart,h.nodeStartPos),l.setEnd(h.nodeEnd,h.nodeEndPos),h.node.clone.appendChild(l.extractContents()),l.insertNode(h.node.clone),l.detach(),!1}}return!0};b.keepMarkup.forEach(function(f){c(b.element,{node:f,pos:0})})}}))}();