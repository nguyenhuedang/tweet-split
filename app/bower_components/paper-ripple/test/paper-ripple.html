<!DOCTYPE html><html><head><meta charset="UTF-8"><title>paper-ripple</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><script src="../../iron-test-helpers/mock-interactions.js"></script><link rel="import" href="../paper-ripple.html"><style>#RippleContainer{display:block;position:relative;width:100px;height:50px;}</style></head><body><test-fixture id="TrivialRipple"><template><div id="RippleContainer"><paper-ripple></paper-ripple></div></template></test-fixture><test-fixture id="CenteringRipple"><template><div id="RippleContainer"><paper-ripple center=""></paper-ripple></div></template></test-fixture><test-fixture id="RecenteringRipple"><template><div id="RippleContainer"><paper-ripple recenters=""></paper-ripple></div></template></test-fixture><test-fixture id="NoinkTarget"><template><div id="RippleContainer"><paper-ripple noink=""></paper-ripple></div></template></test-fixture><test-fixture id="NoRipple"><template><div id="RippleContainer"></div></template></test-fixture><script>suite('<paper-ripple>',function(){var b,c;suite('when tapped',function(){setup(function(){b=fixture('TrivialRipple'),c=b.firstElementChild}),test('creates a ripple',function(){expect(c.ripples.length).to.be.eql(0),MockInteractions.down(c),expect(c.ripples.length).to.be.eql(1)}),test('may create multiple ripples that overlap',function(){expect(c.ripples.length).to.be.eql(0);for(var d=0;3>d;++d)MockInteractions.down(c),expect(c.ripples.length).to.be.eql(d+1)})}),suite('when holdDown is togggled',function(){setup(function(){b=fixture('TrivialRipple'),c=b.firstElementChild}),test('generates a ripple',function(){c.holdDown=!0,expect(c.ripples.length).to.be.eql(1)}),test('generates a ripple when noink',function(){c.noink=!0,c.holdDown=!0,expect(c.ripples.length).to.be.eql(1)})}),suite('when target is noink',function(){setup(function(){b=fixture('NoinkTarget'),c=b.firstElementChild}),test('tapping does not create a ripple',function(){expect(c.ripples.length).to.be.eql(0),MockInteractions.down(c),expect(c.ripples.length).to.be.eql(0)}),test('ripples can be manually created',function(){expect(c.ripples.length).to.be.eql(0),c.simulatedRipple(),expect(c.ripples.length).to.be.eql(1)})}),suite('with the `center` attribute set to true',function(){setup(function(){b=fixture('CenteringRipple'),c=b.firstElementChild}),test('ripples will center',function(d){var f,g=document.createElement('div');g.style.webkitTransform='translate3d(0px, 0px, 0px)',g.style.transform='translate3d(0px, 0px, 0)',MockInteractions.down(c),f=c.ripples[0].waveContainer,MockInteractions.up(c),window.requestAnimationFrame(function(){var h=f.style.transform;try{expect(g.style.transform).to.be.ok,expect(h).to.be.ok,expect(h).to.be.eql(g.style.transform),d()}catch(j){d(j)}})})}),suite('with the `recenters` attribute set to true',function(){setup(function(){b=fixture('RecenteringRipple'),c=b.firstElementChild}),test('ripples will gravitate towards the center',function(d){var f,g;MockInteractions.down(c,{x:10,y:10}),f=c.ripples[0].waveContainer,g=f.style.transform,MockInteractions.up(c),window.requestAnimationFrame(function(){try{expect(g).to.be.ok,expect(f.style.transform).to.be.ok,expect(f.style.transform).to.not.be.eql(g),d()}catch(h){d(h)}})})}),suite('remove a paper ripple',function(){setup(function(){b=fixture('NoRipple')}),test('add and remove a paper-ripple',function(d){var f=document.createElement('paper-ripple');f.addEventListener('transitionend',function(){expect(f.parentNode).to.be.ok,Polymer.dom(b).removeChild(f),d()}),Polymer.dom(b).appendChild(f),window.ShadyDOM&&window.ShadyDOM.flush(),f.downAction(),f.upAction()}),test('reuse a paper-ripple',function(d){var f=document.createElement('paper-ripple');Polymer.dom(b).appendChild(f),Polymer.dom(b).removeChild(f),f.addEventListener('transitionend',function(){expect(f.parentNode).to.be.ok,Polymer.dom(document.body).removeChild(f),d()}),Polymer.dom(document.body).appendChild(f),window.ShadyDOM&&window.ShadyDOM.flush(),f.downAction(),f.upAction()})}),suite('avoid double transitionend event',function(){setup(function(){b=fixture('NoRipple')}),test('the transitionend event should only fire once',function(d){var f=document.createElement('paper-ripple'),g=0;f.addEventListener('transitionend',function(){++g,expect(g).to.be.eql(1),Polymer.dom(b).removeChild(f),setTimeout(function(){d()})}),Polymer.dom(b).appendChild(f),window.ShadyDOM&&window.ShadyDOM.flush(),f.downAction(),f.upAction()})})});</script></body></html>