<!DOCTYPE html><html><head><title>paper-toast-basic</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><link rel="import" href="../paper-toast.html"><style>body{margin:0;padding:0;}</style></head><body><test-fixture id="basic"><template><paper-toast></paper-toast></template></test-fixture><test-fixture id="show"><template><paper-toast opened=""></paper-toast></template></test-fixture><test-fixture id="contained"><template><paper-toast class="fit-bottom"></paper-toast><div style="margin: 50px; width: 100px; height: 100px; background-color: orange"></div></template></test-fixture><script>suite('basic',function(){var a;test('is hidden',function(){a=fixture('basic'),assert.isFalse(a.opened,'`opened` is false')}),test('is visible',function(){a=fixture('show'),assert.isTrue(a.opened,'`opened` is true')}),test('show() will open toast',function(){a=fixture('basic'),a.show(),assert.isTrue(a.opened,'`opened` is true')}),test('hide() will close toast',function(){a=fixture('show'),a.hide(),assert.isFalse(a.opened,'`opened` is false')}),test('toast auto-close after 10ms',function(b){a=fixture('basic'),a.duration=10,a.show(),setTimeout(function(){assert.isFalse(a.opened,'`opened` is false'),b()},12)}),test('toast fires opened event',function(b){a=fixture('show'),a.addEventListener('iron-overlay-opened',function(){b()})}),test('toast does not get focused',function(b){a=fixture('show');var c=sinon.spy(a,'focus');assert.isTrue(a.noAutoFocus,'no-auto-focus is true'),a.addEventListener('iron-overlay-opened',function(){assert.isFalse(c.called,'toast is not focused'),b()})}),test('toast fires closed event',function(b){a=fixture('basic'),a.show({duration:350}),a.addEventListener('iron-overlay-closed',function(){b()})}),test('show() accepts valid properties',function(){a=fixture('basic'),a.show({text:'hello world',duration:20}),assert.isTrue(a.opened,'`opened` is true'),assert.equal(a.text,'hello world','`text` is correct'),assert.equal(a.duration,20,'`duration` is correct')}),test('show() does not accept invalid properties',function(){a=fixture('basic'),a.show({foo:'bar'}),assert.isUndefined(a.foo,'`foo` is not a valid property and will not be set'),assert.isTrue(a.opened,'`opened` is true')}),test('show() does not accept private properties',function(){a=fixture('basic');var b=a._manager;a.show({_manager:'bar'}),assert.equal(a._manager,b,'`_manager` is a private property and will not be set'),assert.isTrue(a.opened,'`opened` is true')}),test('show() accepts a string argument as the text parameter',function(){a=fixture('basic'),a.show('hello world 2'),assert.equal(a.text,'hello world 2','`text is correct`')}),suite('disable auto-close',function(){var b;setup(function(){a=fixture('basic'),b=sinon.spy(a,'async')}),test('duration = Infinity',function(){a.duration=Infinity,a.show(),assert.isFalse(b.calledWith(a.close),'`async` was not called with `close()`'),assert.isFalse(b.calledWith(a.hide),'`async` was not called with `hide()`')}),test('duration = 0',function(){a.duration=0,a.show(),assert.isFalse(b.calledWith(a.close),'`async` was not called with `close()`'),assert.isFalse(b.calledWith(a.hide),'`async` was not called with `hide()`')}),test('duration = -10',function(){a.duration=-10,a.show(),assert.isFalse(b.calledWith(a.close),'`async` was not called with `close()`'),assert.isFalse(b.calledWith(a.hide),'`async` was not called with `hide()`')})}),test('there is only 1 toast opened',function(){var b=fixture('basic'),c=fixture('show');c.open(),b.open(),assert.isTrue(b.opened,'toast1 is opened'),assert.isFalse(c.opened,'toast2 is not opened'),c.open(),assert.isFalse(b.opened,'toast1 is now not opened'),assert.isTrue(c.opened,'toast2 is now opened')}),test('auto-close is correctly reset',function(b){a=fixture('basic'),a.duration=10,a.show(),setTimeout(function(){a.hide(),a.duration=0,a.show(),setTimeout(function(){assert.isTrue(a.opened,'toast is still open'),b()},10)},5)}),test('toast is positioned according at the bottom left of its fitInto',function(b){var c=fixture('contained'),d=c[0],e=c[1];d.fitInto=e,d.open(),d.addEventListener('iron-overlay-opened',function(){var g=d.getBoundingClientRect();assert.equal(g.left,50,'left ok'),assert.equal(g.bottom,150,'bottom'),b()})}),suite('a11y',function(){test('show() will announce text',function(){a=fixture('basic');var b=sinon.spy(a,'fire');a.text='announce!',a.show(),assert.isTrue(b.calledWith('iron-announce',{text:'announce!'}),'text announced')}),test('hide() will not announce text',function(){a=fixture('show');var b=sinon.spy(a,'fire');a.hide(),assert.isFalse(b.calledWith('iron-announce'),'text not announced')})})});</script></body></html>